<template>
  <div class="wrapper">
    <div class="sidenav" :class="{active: collapsed}" >
      <div class="main-nav">
        <h1>Welcome, {{user.email}}!</h1>
        <div id="collapse" @click="toggleMenu">

          <svg id="Layer" enable-background="new 0 0 64 64" height="32" viewBox="0 0 64 64" width="32"
               xmlns="http://www.w3.org/2000/svg">
            <path
                d="m54 30h-39.899l15.278-14.552c.8-.762.831-2.028.069-2.828-.761-.799-2.027-.831-2.828-.069l-17.448 16.62c-.755.756-1.172 1.76-1.172 2.829 0 1.068.417 2.073 1.207 2.862l17.414 16.586c.387.369.883.552 1.379.552.528 0 1.056-.208 1.449-.621.762-.8.731-2.065-.069-2.827l-15.342-14.552h39.962c1.104 0 2-.896 2-2s-.896-2-2-2z"/>
          </svg>
        </div>

      </div>
      <router-link active-class="active" to="/admin/forms">
        <svg id="Capa_1" enable-background="new 0 0 512 512" height="24" viewBox="0 0 512 512" width="24"
             xmlns="http://www.w3.org/2000/svg">
          <g>
            <path
                d="m490.818 113.54c-20.05-11.58-45.79-4.68-57.37 15.37l-37.26 64.55v-53.46c0-5.52-4.48-10-10-10-5.53 0-10 4.48-10 10v88 .09l-109.83 190.23c-.7 1.2-1.13 2.54-1.28 3.93l-7.52 69.75h-237.37v-472h356v30c0 5.52 4.47 10 10 10 5.52 0 10-4.48 10-10v-40c0-5.52-4.48-10-10-10h-376c-5.53 0-10 4.48-10 10v492c0 5.52 4.47 10 10 10h376c5.52 0 10-4.48 10-10v-140.55l110.01-190.54c11.57-20.05 4.68-45.79-15.38-57.37zm-207.5 326.12 28.83 16.64-33.24 24.28zm92.87 52.34h-79l39.16-28.61c1.12-.82 2.06-1.87 2.76-3.07l37.08-64.22zm-49.4-50.34-38.11-22 146.37-253.51 38.1 22zm162.08-280.75-5.72 9.92-38.1-22 5.72-9.92c6.06-10.5 19.55-14.11 30.05-8.05 10.51 6.07 14.12 19.55 8.05 30.05z"/>
            <path
                d="m386.188 85c-2.64 0-5.21 1.07-7.07 2.93s-2.93 4.44-2.93 7.07c0 2.64 1.07 5.21 2.93 7.07s4.44 2.93 7.07 2.93 5.21-1.07 7.07-2.93 2.93-4.44 2.93-7.07-1.07-5.21-2.93-7.07-4.43-2.93-7.07-2.93z"/>
            <path d="m299.188 106h-202c-5.53 0-10 4.48-10 10s4.47 10 10 10h202c5.52 0 10-4.48 10-10s-4.48-10-10-10z"/>
            <path d="m299.188 162h-202c-5.53 0-10 4.48-10 10s4.47 10 10 10h202c5.52 0 10-4.48 10-10s-4.48-10-10-10z"/>
            <path
                d="m299.188 218h-74.25c-5.53 0-10 4.48-10 10s4.47 10 10 10h74.25c5.52 0 10-4.48 10-10s-4.48-10-10-10z"/>
            <path
                d="m309.188 284c0-5.52-4.48-10-10-10h-202c-5.53 0-10 4.48-10 10s4.47 10 10 10h202c5.52 0 10-4.48 10-10z"/>
            <path
                d="m266.188 340c0-5.52-4.48-10-10-10h-62.5c-5.53 0-10 4.48-10 10s4.47 10 10 10h62.5c5.52 0 10-4.48 10-10z"/>
            <path d="m97.188 406h88c5.52 0 10-4.48 10-10s-4.48-10-10-10h-88c-5.53 0-10 4.48-10 10s4.47 10 10 10z"/>
            <path
                d="m97.188 238h66.66c5.53 0 10-4.48 10-10s-4.47-10-10-10h-66.66c-5.53 0-10 4.48-10 10s4.47 10 10 10z"/>
            <path d="m97.188 350h51.5c5.52 0 10-4.48 10-10s-4.48-10-10-10h-51.5c-5.53 0-10 4.48-10 10s4.47 10 10 10z"/>
          </g>
        </svg>
        <span>Forms</span></router-link>
      <router-link active-class="active" to="/admin/users">
        <svg id="Capa_1" enable-background="new 0 0 512 512" height="24" viewBox="0 0 512 512" width="24"
             xmlns="http://www.w3.org/2000/svg">
          <g>
            <path d="m226 232c-63.963 0-116-52.037-116-116s52.037-116 116-116 116 52.037 116 116-52.037 116-116 116z"/>
            <g>
              <g>
                <path
                    d="m271 317c0-25.68 7.21-49.707 19.708-70.167-19.515 9.693-41.48 15.167-64.708 15.167-30.128 0-58.152-9.174-81.429-24.874-28.782 11.157-55.186 28.291-77.669 50.774-42.498 42.497-65.902 98.999-65.902 159.099v50.001c0 8.284 6.716 15 15 15h420c8.284 0 15-6.716 15-15v-50.001c0-.901-.025-1.805-.036-2.708-14.072 4.986-29.205 7.709-44.964 7.709-74.439 0-135-60.561-135-135z"/>
              </g>
              <path
                  d="m406 212c-57.897 0-105 47.103-105 105s47.103 105 105 105 105-47.103 105-105-47.103-105-105-105zm30 120h-15v15c0 8.284-6.716 15-15 15s-15-6.716-15-15v-15h-15c-8.284 0-15-6.716-15-15s6.716-15 15-15h15v-15c0-8.284 6.716-15 15-15s15 6.716 15 15v15h15c8.284 0 15 6.716 15 15s-6.716 15-15 15z"/>
            </g>
          </g>
        </svg>
        <span>Create Use</span></router-link>
      <router-link active-class="active" to="/admin/smtp">
        <svg id="Capa_1" enable-background="new 0 0 479.058 479.058" height="24" viewBox="0 0 479.058 479.058"
             width="24" xmlns="http://www.w3.org/2000/svg">
          <path
              d="m434.146 59.882h-389.234c-24.766 0-44.912 20.146-44.912 44.912v269.47c0 24.766 20.146 44.912 44.912 44.912h389.234c24.766 0 44.912-20.146 44.912-44.912v-269.47c0-24.766-20.146-44.912-44.912-44.912zm0 29.941c2.034 0 3.969.422 5.738 1.159l-200.355 173.649-200.356-173.649c1.769-.736 3.704-1.159 5.738-1.159zm0 299.411h-389.234c-8.26 0-14.971-6.71-14.971-14.971v-251.648l199.778 173.141c2.822 2.441 6.316 3.655 9.81 3.655s6.988-1.213 9.81-3.655l199.778-173.141v251.649c-.001 8.26-6.711 14.97-14.971 14.97z"/>
        </svg>
        <span>SMTP Config</span></router-link>
      <button type="button" @click="logout">
        <svg height="24" viewBox="0 0 512.016 512" width="24" xmlns="http://www.w3.org/2000/svg">
          <path
              d="m496 240.007812h-202.667969c-8.832031 0-16-7.167968-16-16 0-8.832031 7.167969-16 16-16h202.667969c8.832031 0 16 7.167969 16 16 0 8.832032-7.167969 16-16 16zm0 0"/>
          <path
              d="m416 320.007812c-4.097656 0-8.191406-1.558593-11.308594-4.691406-6.25-6.253906-6.25-16.386718 0-22.636718l68.695313-68.691407-68.695313-68.695312c-6.25-6.25-6.25-16.382813 0-22.632813 6.253906-6.253906 16.386719-6.253906 22.636719 0l80 80c6.25 6.25 6.25 16.382813 0 22.632813l-80 80c-3.136719 3.15625-7.230469 4.714843-11.328125 4.714843zm0 0"/>
          <path
              d="m170.667969 512.007812c-4.566407 0-8.898438-.640624-13.226563-1.984374l-128.386718-42.773438c-17.46875-6.101562-29.054688-22.378906-29.054688-40.574219v-384c0-23.53125 19.136719-42.6679685 42.667969-42.6679685 4.5625 0 8.894531.6406255 13.226562 1.9843755l128.382813 42.773437c17.472656 6.101563 29.054687 22.378906 29.054687 40.574219v384c0 23.53125-19.132812 42.667968-42.664062 42.667968zm-128-480c-5.867188 0-10.667969 4.800782-10.667969 10.667969v384c0 4.542969 3.050781 8.765625 7.402344 10.28125l127.785156 42.582031c.917969.296876 2.113281.46875 3.480469.46875 5.867187 0 10.664062-4.800781 10.664062-10.667968v-384c0-4.542969-3.050781-8.765625-7.402343-10.28125l-127.785157-42.582032c-.917969-.296874-2.113281-.46875-3.476562-.46875zm0 0"/>
          <path
              d="m325.332031 170.675781c-8.832031 0-16-7.167969-16-16v-96c0-14.699219-11.964843-26.667969-26.664062-26.667969h-240c-8.832031 0-16-7.167968-16-16 0-8.832031 7.167969-15.9999995 16-15.9999995h240c32.363281 0 58.664062 26.3046875 58.664062 58.6679685v96c0 8.832031-7.167969 16-16 16zm0 0"/>
          <path
              d="m282.667969 448.007812h-85.335938c-8.832031 0-16-7.167968-16-16 0-8.832031 7.167969-16 16-16h85.335938c14.699219 0 26.664062-11.96875 26.664062-26.667968v-96c0-8.832032 7.167969-16 16-16s16 7.167968 16 16v96c0 32.363281-26.300781 58.667968-58.664062 58.667968zm0 0"/>
        </svg>
        <span>Logout</span>

      </button>


    </div>
    <main>
      <router-view></router-view>
    </main>
  </div>
</template>

<script>
import {mapGetters, mapMutations} from "vuex";

export default {
  name: "admin",
  data: () => ({
    collapsed: false
  }),
  methods: {
    ...mapMutations(['resetState']),
    ...mapGetters(['user']),
    logout: function () {
      this.resetState();
      this.$router.push('/');
    },
    toggleMenu: function (){
      this.collapsed = !this.collapsed;
    }
  },
}
</script>

<style lang="scss">
.wrapper {
  display: flex;
  width: 100%;
  align-items: stretch;


  .sidenav {
    min-height: 100vh;
    height: 100%;
    min-width: 500px;
    max-width: 500px;
    //position: fixed;
    top: 0;
    left: 0;
    //display: flex;
    justify-content: flex-start;
    flex-direction: column;
    background-color: #cddef4;
    overflow-x: hidden;
    padding: 60px 0 0 50px;
    transition: all 1s;
    z-index: 1;

    .main-nav {
      display: flex;
      justify-content: space-between;

      h1 {
        font-size: 32px;
      }

      #collapse {
        display: flex;
        margin-right: 40px;

        svg {
          display: flex;
          align-self: center;
          transition: all 1s;
        }
      }
    }

    button {
      border: none;
      background: none;
      margin: 0;
      padding: 0;
    }

    a, button {
      display: flex;
      color: #000;
      font-size: 24px;
      font-weight: 500;
      text-decoration: none;
      margin-top: 30px;
      opacity: 0.6;
      transition: all 0.5s;

      svg {
        fill: #000;
        margin-right: 15px;
        align-self: center;
      }


      &:hover {
        opacity: 0.8;
      }
    }

    &.active {
      min-width: 150px;
      max-width: 150px;
      padding: 60px;
      .main-nav {
        justify-content: flex-start;
        #collapse{
          margin-right: 0;
          padding-bottom: 50px;
          svg{
            transform: rotate(-180deg);
          }
        }
        h1 {
          display: none;
        }
      }
      button{
        &:focus{
          outline: none;
        }
      }
      a, button {
        display: block;
        margin: 10px auto;
        span {
          display: none;
        }
        svg {
          display: block;
          margin: 50px auto;
        }
      }
    }
  }


  main {
    padding: 50px;
  }
}
</style>
